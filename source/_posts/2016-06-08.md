---
title: 也来写一写我理解中的代码布局、xib布局以及storyboard布局
date: 2016-06-08 00:02:10
tags: UI布局
---

### 前言

前几天在CocoaChina上看了一篇关于代码布局、xib布局以及storyboard布局的争论，我也参与了其中，大半夜的写出了我自己的理解，结果一个误操作，打了十几分钟的字，就被自己丢失掉了（哎，再一次上了没有保存的当！）。不过本着要发表点自己意见的心态， 还是再次花了十几分钟，重新发表了自己的想法。自己总算参与了iOS开发大军的互喷中。

### 为什么有人不喜欢xib和storyboard？

看了网上很多人的评论，我总结了下，90%的开发认为：

1. xib和storyboard布局，没有代码布局看着方便，在xib和storyboard上看UI布局的比较费时；
2. xib和storyboard布局，容易冲突，多人协作的时候容易抓狂；
3. xib和storyboard布局，不方便维护，后期需求修改的时候没有代码布局修改方便；

其他的一些观点，我就不列举了。

有位朋友这样说

```
对于支持xib的，我只想说，别坑自己人。
团队开发矛盾就在这时候体现出来了。
以后去了插件化公司你就会明白为什么不让你用xib了。
之前公司所有分配的项目都要求打包成静态库或者动态库，而且不允许打包bundle，统一使用主框架下的图片。
我看看你们傻眼不？
```
对于这位朋友的观点，我的想法是类似于架构设计，要有远见，但是也不能过度设计。因地制宜，杀鸡不用牛刀。

### 我自己的一些观点

就个人观点， storyboard，xib 和代码， 都有各自适合的场景。

在我的理解中， UI 是分成**UI 逻辑**和**UI 布局**， 然而， sb 和 xib，以及代码， 都只是 UI 布局这个环节。

我个人倾向于 sb， 为什么呢？

1. sb 更加直观， 对于整个项目来说， 一个完美的流程图及时呈现在你面前， 你肯定对 整个项目的掌握了然于胸。
2. sb 实现起来更快。不论是添加控件，还是给控件布局，sb 都会很 nice 的。
3. sb 减少了开发的工作。（我说的只是减少， 不是完全没了）sb 能够很好的把布局工作从代码中拿出来， 让我们的代码只专注于我们的业务和逻辑。我的开发理念是， 能少写一行代码的就不能多写一行。能把事情交给 apple 做的， 我就不会自己来做。

和代码布局相比起来，

1. 代码布局不直观， 流程得看代码。（不要说整个项目都是一个人从头到尾做的，自己很清楚之类的。这儿主要讨论团队开发）
2. 代码布局太费时了。
用代码布局， 首先要写添加这个控件的代码， 然后写这个控件的布局，或者写约束，相对 sb 来说，的确太耗时了。
不过可能大家要说 sb 修改起来太麻烦了。 其实就我个人观点，sb 相对于代码来说，修改起来反而更加简单。因为要修改或者删除 sb 里面的控件的时候， 如果理不清的时候， 直接删掉所有控件， 重新添加控件， 重现布局，也不是一个多大的事。
然而， 如果用代码的话， 大家首先得理解这段代码的含义， 然后还要考虑这个代码能不能改， 能不能删，思考的时间绝对不少了。 而且，一般大家也不敢随便动其他人写的代码， 怕改出问题。
3. 代码布局效率高，sb 效率低。
我觉得编译时期， 的确 sb布局被代码完爆。 不过在运行的时候， 个人觉得差不太多， 估计代码布局会好点。但是相对于程序结构来说， 我觉得完全没必要。
4. 代码布局相对于 sb 布局的团队合作来说， 要略胜一筹。但是 sb 布局的冲突， 其实从技术上是可以规避的， 不过具体方式就不在这儿讨论了

在 UI 的实现上，我在概念上将 UI分成 UI 逻辑和 UI 布局， 我觉得苹果之所以出 xib 和 sb，就是想把 UI 布局的工作给抽出来，让我们只关注与业务和逻辑。不要被布局给困扰。

所以我在实现UI 的时候， 基本上我的代码只看得到 UI 逻辑部分， 而布局相关的代码完全没了。

### 一些大牛的观点

https://onevcat.com/2013/12/code-vs-xib-vs-storyboard/

http://blog.devtang.com/2015/03/22/ios-dev-controversy-2/


### 写在最后

虽然上面我说了我个人倾向于sb，不过还是得看项目，不同的项目要因地制宜。
